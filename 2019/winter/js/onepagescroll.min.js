function onepagescroll(o, e) { var r = [], c = 1, d = !1, t = { 38: 1, 33: 1 }, n = { 40: 1, 34: 1 }, l = function () { for (var e = 1; e < arguments.length; e++)for (var t in arguments[e]) arguments[e].hasOwnProperty(t) && (arguments[0][t] = arguments[e][t]); return arguments[0] }({}, { pageContainer: "section", animationType: "ease-in-out", animationTime: 500, infinite: !0, pagination: !0, keyboard: !0, direction: "vertical" }, e); function a() { window.addEventListener("wheel", u), p(document.querySelector(o), { transition: "transform " + l.animationTime + "ms " + l.animationType }), l.keyboard && addEventListener("keydown", function (e) { t[e.keyCode] ? m(1, r.length, -1) : n[e.keyCode] && m(r.length, 1, 1) }), document.querySelector(o).classList.add("ops-container"), s() && document.querySelector(o).addEventListener(s(), function () { d = !1 }); var a = null; l.pagination && (a = document.createElement("ul")).classList.add("ops-navigation"); var i = 1;[].forEach.call(document.querySelectorAll(o + " > " + l.pageContainer), function (e) { if (l.pagination) { var t = document.createElement("li"), n = document.createElement("a"); n.setAttribute("data-targetindex", i), n.href = "#", t.appendChild(n), a.appendChild(t) } e.classList.add("ops-page"), "horizontal" == l.direction && p(e, { left: 100 * (i - 1) + "%", position: "absolute" }), r.push(e), e.setAttribute("data-pageindex", i++) }), l.pagination && (document.body.appendChild(a), document.querySelector('a[data-targetindex="' + c + '"]').classList.add("active")) } function u(e) { 0 < e.wheelDelta ? m(1, r.length, -1) : m(r.length, 1, 1) } function s() { var e, t = document.createElement("fakeelement"), n = { transition: "transitionend", OTransition: "oTransitionEnd", MozTransition: "transitionend", WebkitTransition: "webkitTransitionEnd" }; for (e in n) if (void 0 !== t.style[e]) return n[e]; return !0 } function p(e, t) { for (var n in t) void 0 !== e.style[n] && (e.style[n] = t[n]) } function m(e, t, n) { if (!d) { if (c == e) { if (!l.infinite) return; c = t } else c += n; l.animationTime && (d = !0), l.pagination && (document.querySelector("a.active[data-targetindex]").classList.remove("active"), document.querySelector('a[data-targetindex="' + c + '"]').classList.add("active")), "vertical" == l.direction ? p(document.querySelector(o), { transform: "translate3d(0," + 100 * -(c - 1) + "%,0)" }) : "horizontal" == l.direction && p(document.querySelector(o), { transform: "translate3d(" + 100 * -(c - 1) + "%,0,0)" }) } } var i = 0, h = 0; document.addEventListener("touchstart", function (e) { if (e.preventDefault(), "touchstart" == e.type || "touchmove" == e.type || "touchend" == e.type || "touchcancel" == e.type) { var t = e.touches[0] || e.changedTouches[0]; "vertical" == l.direction ? i = t.pageY : "horizontal" == l.direction && (i = t.pageX) } }), document.addEventListener("touchend", function (e) { if (e.preventDefault(), "touchstart" == e.type || "touchmove" == e.type || "touchend" == e.type || "touchcancel" == e.type) { var t = e.touches[0] || e.changedTouches[0]; "vertical" == l.direction ? h = t.pageY : "horizontal" == l.direction && (h = t.pageX) } i + 90 < h ? m(1, r.length, -1) : h + 90 < i && m(r.length, 1, 1) }), "complete" === document.readyState ? a() : window.addEventListener("onload", a(), !1) }
